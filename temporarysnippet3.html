<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>SVG Arc with Text</title>
  </head>
  <style>
    #btn_UP:hover {
      stroke: red;
    }

    #btn_UP_text {
      user-select: none; /* Standard */
      -webkit-user-select: none; /* Chrome, Safari, and Edge */
      -moz-user-select: none; /* Firefox */
      -ms-user-select: none;
    }
  </style>
  <body>
    <div id="svg-container"></div>

    <script>
      /**
       * Create an arc segment with a label in the middle.
       * @param {number} cx - X-coordinate of the circle center.
       * @param {number} cy - Y-coordinate of the circle center.
       * @param {number} r - Radius of the circle.
       * @param {number} startAngle - Start angle of the arc (degrees).
       * @param {number} endAngle - End angle of the arc (degrees).
       * @param {number} strokeWidth - Thickness of the arc line.
       * @param {string} text - Text label on the arc.
       */
      function createArcSegment(
        cx,
        cy,
        r,
        startAngle,
        endAngle,
        strokeWidth,
        text
      ) {
        // Convert angles from degrees to radians, with 0째 at the top
        const startRad = ((startAngle - 90) * Math.PI) / 180;
        const endRad = ((endAngle - 90) * Math.PI) / 180;

        // Calculate the start and end points
        const x1 = cx + r * Math.cos(startRad);
        const y1 = cy + r * Math.sin(startRad);
        const x2 = cx + r * Math.cos(endRad);
        const y2 = cy + r * Math.sin(endRad);

        // Determine the large arc flag
        const largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1;

        // Create the SVG path data
        const pathData = `
          M ${x1},${y1}
          A ${r},${r} 0 ${largeArcFlag} 1 ${x2},${y2}
        `;

        // Create the SVG element
        const svgNS = 'http://www.w3.org/2000/svg';
        const svg = document.createElementNS(svgNS, 'svg');
        svg.setAttribute('width', cx * 2);
        svg.setAttribute('height', cy * 2);
        svg.setAttribute(
          'style',
          'border: 1px solid black; display: block; margin: auto;'
        );

        // Add the arc path
        const path = document.createElementNS(svgNS, 'path');
        path.setAttribute('id', 'btn_UP');
        path.setAttribute('d', pathData.trim());
        path.setAttribute('fill', 'none');
        path.setAttribute('stroke', 'blue');
        path.setAttribute('stroke-width', strokeWidth);
        path.setAttribute('stroke-linecap', 'round');
        svg.appendChild(path);

        // Add text centered within the arc
        const textElement = document.createElementNS(svgNS, 'text');
        const midAngle = (startRad + endRad) / 2;

        // Calculate the position for the text
        const innerRadius = r - strokeWidth / 2; // Middle of the arc's stroke
        const textX = cx;
        const textY = cy - innerRadius - strokeWidth / 2;
        textElement.setAttribute('id', 'btn_UP_text');
        textElement.setAttribute('x', textX);
        textElement.setAttribute('y', textY);
        textElement.setAttribute('text-anchor', 'middle');
        textElement.setAttribute('dominant-baseline', 'central');
        textElement.setAttribute('fill', 'black');
        textElement.setAttribute('font-size', '18');
        textElement.textContent = text;

        // Add hover effect using JavaScript
        textElement.addEventListener('mouseover', () => {
          path.setAttribute('stroke', 'red'); // Change stroke color on hover
        });

        textElement.addEventListener('mouseout', () => {
          path.setAttribute('stroke', 'blue'); // Reset stroke color
        });

        // Add click event listener to the path
        textElement.addEventListener('click', () => {
          console.log('Arc clicked!');
        });

        svg.appendChild(textElement);

        // Add click event listener to the path
        path.addEventListener('click', () => {
          console.log('Arc clicked!');
        });

        // Append the SVG to the container
        document.getElementById('svg-container').appendChild(svg);
      }

      // Call the function to create an arc
      // Create an arc between hour 10 (-60째) and hour 14 (+60째), with noon (0째) at the top
      createArcSegment(200, 200, 150, -60, 60, 50, 'Dalej');
    </script>
  </body>
</html>
